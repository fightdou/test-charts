{
    "title": "Chart Values",
    "type": "object",
    "properties": {
        "image": {
            "type": "object",
            "properties": {
                "registry": {
                    "type": "string",
                    "title": "Cinder API Image Registry",
                    "description": "Moodle image registry",
                    "default": "docker.io"
                },
                "repository": {
                    "type": "string",
                    "title": "Cinder API Image Repository",
                    "description": "Moodle image repository",
                    "default": "douyali/cinder-api"
                },
                "tag": {
                    "type": "string",
                    "title": "Cinder API Image Tag",
                    "description": "Moodle image tag (immutable tags are recommended)",
                    "default": "latest"
                }
            }
        },
        "replicaCount": {
            "type": "number",
            "title": "Cinder API Replica Number",
            "description": "Number of Moodle replicas (requires ReadWriteMany PVC support)",
            "default": 1
        },
        "conf": {
            "type": "object",
            "properties": {
                "cinder": {
                    "type": "object",
                    "properties": {
                        "auth_strategy": {
                            "type": "string",
                            "title": "Auth Strategy",
                            "description": "Auth strategy for cinder api",
                            "default": "noauth"
                        },
                        "auth_type": {
                            "type": "string",
                            "title": "Auth Type",
                            "description": "Auth type for cinder api",
                            "default": "none"
                        }
                    }
                }
            }
        },
        "mariadb": {
            "type": "object",
            "properties": {
                "enabled": {
                    "type": "boolean",
                    "title": "Enabled mariadb service",
                    "description": "Whether to deploy a mariadb server to satisfy the applications database requirements",
                    "default": true
                },
                "architecture": {
                    "type": "string",
                    "title": "Mariadb architecture",
                    "description": "MariaDB architecture. Allowed values: `standalone` or `replication`",
                    "default": "standalone"
                },
                "auth": {
                    "type": "object",
                    "properties": {
                        "rootPassword": {
                            "type": "string",
                            "title": "Mariadb Root Password",
                            "description": "Password for the MariaDB `root` user",
                            "default": ""
                        },
                        "database": {
                            "type": "string",
                            "title": "Mariadb Database Name",
                            "description": "Database name to create",
                            "default": "cinder"
                        },
                        "username": {
                            "type": "string",
                            "title": "Mariadb Database UserName",
                            "description": "Database user to create",
                            "default": "cinder"
                        },
                        "password": {
                            "type": "string",
                            "title": "Mariadb Database Password",
                            "description": "Password for the database",
                            "default": "123456"
                        }
                    }
                },
                "primary": {
                    "type": "object",
                    "properties": {
                        "persistence": {
                            "type": "object",
                            "properties": {
                                "enabled": {
                                    "type": "boolean",
                                    "title": "Enable database persistence using PVC",
                                    "description": "Enable database persistence using PVC",
                                    "default": true
                                },
                                "storageClass": {
                                    "type": "string",
                                    "title": "MariaDB primary persistent volume storage Class",
                                    "description": "MariaDB primary persistent volume storage Class",
                                    "default": ""
                                },
                                "accessModes": {
                                    "type": "array",
                                    "title": "Database Persistent Volume Access Modes",
                                    "description": "Database Persistent Volume Access Modes",
                                    "default": [
                                        "ReadWriteOnce"
                                    ]
                                },
                                "size": {
                                    "type": "string",
                                    "title": "Database Persistent Volume Size",
                                    "description": "Database Persistent Volume Size",
                                    "default": "8Gi"
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
